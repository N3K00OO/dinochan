{% extends 'base.html' %}
{% block title %}Catalog â€¢ RagaSpace{% endblock %}
{% block content %}
<section class="grid gap-10" data-animate>
  <div class="rounded-[3rem] border border-white/10 bg-white/5 p-8 shadow-xl shadow-slate-950/50 backdrop-blur-2xl" data-animate>
    <h1 class="text-4xl font-semibold text-white">Venue catalog</h1>
    <p class="mt-2 max-w-2xl text-white/70">Fine-tune your search with precise filters for city, category, and budget. Results update instantly without leaving the page.</p>
    <form
      id="catalog-filter-form"
      class="mt-8 flex w-full flex-wrap items-center justify-center gap-6 rounded-[2.75rem] border border-white/15 bg-slate-950/70 px-6 py-6 text-white/90 shadow-2xl shadow-slate-950/50 backdrop-blur-2xl md:flex-nowrap md:justify-between md:gap-10 md:px-10"
    >
      <div class="flex w-full flex-col gap-3 md:w-auto">
        <span class="flex items-center gap-2 text-sm font-medium text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
          </svg>
          <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">All cities</span>
        </span>
        {{ filter.form.city }}
      </div>
      <div class="flex w-full flex-col gap-3 md:w-auto">
        <span class="flex items-center gap-2 text-sm font-medium text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l3 3" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">All categories</span>
        </span>
        {{ filter.form.category }}
      </div>
      <div class="flex w-full flex-col gap-3 md:w-auto">
        <span class="flex items-center gap-2 text-sm font-medium text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h6" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 12A9 9 0 113 12a9 9 0 0118 0z" />
          </svg>
          <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">Max price</span>
        </span>
        {{ filter.form.max_price }}
      </div>
      <button
        type="submit"
        class="w-full rounded-2xl bg-[#1B89AE] px-6 py-3 text-sm font-semibold text-white transition-colors duration-150 hover:bg-[#15647F] md:w-auto"
      >
        Search
      </button>
    </form>
  </div>
  <div id="catalog-grid" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    {% for venue in venues %}
    {% include 'partials/venue_card.html' with venue=venue wishlist_ids=wishlist_ids wishlist_next_url=request.get_full_path %}
    {% empty %}
    <p class="text-white/70">No venues match your filters yet.</p>
    {% endfor %}
  </div>
  {% if is_paginated %}
  <div class="flex justify-center gap-2">
    {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}" class="interactive-glow rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:bg-white/10" data-ripple>Previous</a>
    {% endif %}
    <span class="rounded-full border border-white/20 px-4 py-2 text-sm text-white/70">Page {{ page_obj.number }} of {{ paginator.num_pages }}</span>
    {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}" class="interactive-glow rounded-full border border-white/20 px-4 py-2 text-sm text-white/70 transition hover:bg-white/10" data-ripple>Next</a>
    {% endif %}
  </div>
  {% endif %}
</section>
{% endblock %}
